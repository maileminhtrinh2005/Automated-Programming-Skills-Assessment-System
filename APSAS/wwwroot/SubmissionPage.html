<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="utf-8" />
    <title>Online Code</title>
    <link rel="stylesheet" href="Css/Submission.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.45.0/min/vs/loader.min.js"></script>
</head>
<body>
    <h2>Online Code</h2>

    <!-- 🧾 Phần thông tin bài tập -->
    <div class="assignment-info">
        <h3 id="assignmentTitle">Đang tải bài tập...</h3>
        <p id="assignmentDescription"></p>
        <p><span class="label">Example TestCase:</span> <span id="assignmentSampleTestCase"></span></p>
        <p><span class="label">Độ khó:</span> <span id="assignmentDifficulty"></span></p>
        <p><span class="label">Hạn nộp:</span> <span id="assignmentDeadline"></span></p>
        <input type="hidden" id="assignmentId" />
    </div>

    <!-- 🔹 Thanh chọn ngôn ngữ -->
    <div class="language-bar">
        <div class="languages" id="languageContainer"></div>
        <button class="run-btn" onclick="runCode()">▶️</button>
        <button class="run-btn" onclick="runWithTestcase()">Run with Testcase</button>
    </div>

    <!-- 🔹 Bố cục 2 khung + nút Run giữa -->
    <div class="workspace">
        <!-- Khung bên trái: code -->
        <div class="editor">
            <div id="editor" style="height: 400px; border: 1px solid #ccc; border-radius: 6px;"></div>
        </div>


        <!-- Khung bên phải: kết quả -->
        <div class="result">
            <h3>Kết quả:</h3>
            <pre id="result">...</pre>
        </div>
    </div>

    <!-- Nút Submit nằm ở cuối -->
    <div class="bottom-submit">
        <button onclick="submitCode()">✅ Submit</button>
    </div>



    <script>
        let editor; // để dùng lại trong JS
        require.config({ paths: { 'vs': 'https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.45.0/min/vs' } });
        require(['vs/editor/editor.main'], function () {
            editor = monaco.editor.create(document.getElementById('editor'), {
                value: "// Viết code của bạn tại đây\n",
                language: "c", // mặc định, có thể đổi sang 'cpp', 'python', ...
                theme: "vs-light",
                fontSize: 14,
                automaticLayout: true,
                minimap: { enabled: false },
                suggestOnTriggerCharacters: true,   // gợi ý khi gõ ký tự đặc biệt
                quickSuggestions: { other: true, comments: false, strings: true }, // gợi ý ngay khi gõ
                parameterHints: { enabled: true },
            });
        });


        function getCode() {
            return editor ? editor.getValue() : "";
        }

        function setEditorLanguage(lang) {
            if (!editor) return;
            const langMap = {
                "c": "c", "cpp": "cpp", "python": "python",
                "java": "java", "javascript": "javascript", "c#": "csharp"
            };
            monaco.editor.setModelLanguage(editor.getModel(), langMap[lang.toLowerCase()] || "plaintext");
        }

    </script>


    <script src="Js/Submission.js"></script>




</body>
</html>
